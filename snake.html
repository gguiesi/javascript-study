<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Snake!</title>
    </head>
    <body>
        <canvas id="canvas" width="400" height="400"></canvas>

        <script src="https://code.jquery.com/jquery-2.1.0.js" charset="utf-8"></script>
        <script src="js/snake.js" charset="utf-8"></script>

        <script type="text/javascript">
            // Set up canvas
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            // Get the width and height from the canvas element
            var width = canvas.width;
            var height = canvas.height;
            // Work out the width and height in blocks
            var blockSize = 10;
            var widthInBlocks = width / blockSize;
            var heightInBlocks = height / blockSize;
            // Set score to 0
            var score = 0;
            // Create the snake and apple objects
            var snake = new Snake();
            var apple = new Apple();
            // Pass an animation function to setInterval
            var intervalId = setInterval(function () {
                ctx.clearRect(0, 0, width, height);
                drawScore();
                snake.move();
                snake.draw();
                apple.draw();
                drawBorder();
            }, 100);
            // Convert keycodes to directions
            var directions = {
                37: "left",
                38: "up",
                39: "right",
                40: "down"
            };
            // The keydown handler for handling direction key presses
            $("body").keydown(function (event) {
                var newDirection = directions[event.keyCode];
                if (newDirection !== undefined) {
                    snake.setDirection(newDirection);
                }
            });
        </script>
    </body>
</html>
